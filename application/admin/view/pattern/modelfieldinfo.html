<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>角色管理</title>
	<link href="__PUBLIC__/static/css/layout.css" rel="stylesheet" type="text/css" />
	<link href="__PUBLIC__/static/css/page.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="__PUBLIC__/static/js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="__PUBLIC__/static/js/lhgdialog.js?skin=aero"></script>
	<script type="text/javascript" src="__PUBLIC__/static/js/CostomLinkOpenSw.js"></script>
	<script type="text/javascript" src="__PUBLIC__/static/js/tabscommon.js"></script>
	<script type="text/javascript" src="__PUBLIC__/static/js/del-checked.js"></script>
	<script type="text/javascript" src="__PUBLIC__/static/js/layer/layer.js"></script>
	<script type="text/javascript">
		var __public="__PUBLIC__";
        $(function(){
            $(document).ready(function() {
                $('.oa_text-list tr').addClass('odd');
                $('.oa_text-list tr:even').addClass('even');
            });
            $('.oa_text-list tr').hover(
                function(){
                    $(this).addClass('oa_mouseover-bg');
                },
                function(){
                    $(this).removeClass('oa_mouseover-bg');
                }
            );
        });
        function empty() {
            window.location.reload();
        }
	</script>
</head>
<body>
<div class="oa_wrapper">
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
		<tr class="oa_wrapper-display">
			<td class="oa_wrapper-top-arr-left">&nbsp;</td>
			<td class="oa_wrapper-top-arr-middle"></td>
			<td class="oa_wrapper-top-arr-right">&nbsp;</td>
		</tr>
		<tr>
			<td class="oa_wrapper-middle-arr-left oa_wrapper-display"></td>
			<td class="oa_wrapper-middle-arr-middle">
				<div class="oa_location clearfix"><span class="oa_ico-left"></span>location<span class="oa_ico-right"></span></div>
				<div class="oa_main clearfix">
					<div class="oa_content-area clearfix">
						<div class="oa_content-main">
							<table width="100%" border="0" cellspacing="0" cellpadding="0">
								<tr>
									<td valign="top">
										<div class="oa_title clearfix">
                                            <span class="oa_title-btn">
                        <ul>
                          <li class="oa_selected">
							  <a href="{:url('pattern/index',['idsite'=>1])}">返回</a>
                          </li>
                        </ul>
                      </span>
											<span class="oa_ico-left"></span>
											模型字段列表：<a href="{:url('pattern/modelfieldall','idmodel='.$request['idmodel'])}">所有字段</a>&nbsp;&nbsp;&nbsp;<a href="{:url('pattern/modelfieldinfo','idmodel='.$request['idmodel'])}" style="color: #2E00FF">正在使用字段</a>
										</div>
										<div class="oa_subnav clearfix">


											<!--<div class="oa_subnav-list clearfix">
                                              <ul>
                                                <li><em>我的项目</em></li>
                                                <li class="oa_on">任务管理</li>
                                                <li>项目日志</li>
                                              </ul>
                                            </div>-->
										</div>
										<div class="oa_text-list">
											<table width="100%" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed">
												<tr class="oa_text-list-title">
													<th width="20" style="text-align:center;"><input id="checked"  onclick="DoCheck();" name="" type="checkbox" value="" /></th>
													<th><span class="oa_arr-text-list-title"></span>ID</th>
													<th width="100"><span class="oa_arr-text-list-title"></span>字段名称</th>
													<th width="150"><span class="oa_arr-text-list-title"></span>字段别名</th>
													<th width="130"><span class="oa_arr-text-list-title"></span>字段类型</th>
													<th><span class="oa_arr-text-list-title"></span>是否为空</th>
													<th><span class="oa_arr-text-list-title"></span>列表显示</th>
													<th><span class="oa_arr-text-list-title"></span>是否启用</th>
													<th><span class="oa_arr-text-list-title"></span>排序</th>
													<th><span class="oa_arr-text-list-title"></span>操作</th>
												</tr>
												{volist name="fieldlist" id="vo"}
												<tr>
													<td align="center"><input class="checked_one" type="checkbox" value="" /></td>
													<td><span>{$vo['idtypefield']}</span></td>
													<td>{$vo['fieldname']}</td>
													<td>{$vo['fieldalias']}</td>
													<td>
														{if condition="$vo['fieldtype'] eq 1"}单行文本{/if}
														{if condition="$vo['fieldtype'] eq 2"}多行文本{/if}
														{if condition="$vo['fieldtype'] eq 3"}编辑器{/if}
														{if condition="$vo['fieldtype'] eq 4"}多选列表框{/if}
														{if condition="$vo['fieldtype'] eq 5"}复选框{/if}
														{if condition="$vo['fieldtype'] eq 6"}单选按钮{/if}
														{if condition="$vo['fieldtype'] eq 7"}下拉列表{/if}
														{if condition="$vo['fieldtype'] eq 8"}数字型{/if}
														{if condition="$vo['fieldtype'] eq 9"}日期{/if}
														{if condition="$vo['fieldtype'] eq 10"}图片{/if}
														{if condition="$vo['fieldtype'] eq 11"}多图片{/if}
														{if condition="$vo['fieldtype'] eq 12"}文件{/if}
														{if condition="$vo['fieldtype'] eq 13"}多文件{/if}
														{if condition="$vo['fieldtype'] eq 14"}单行文本{/if}
														{if condition="$vo['fieldtype'] eq 15"}相关内容{/if}
														{if condition="$vo['fieldtype'] eq 16"}相关栏目{/if}
														{if condition="$vo['fieldtype'] eq 17"}相关栏目(多选){/if}
														{if condition="$vo['fieldtype'] eq 18"}只读文本{/if}
														{if condition="$vo['fieldtype'] eq 19"}弹窗分页(单选{/if}
														{if condition="$vo['fieldtype'] eq 20"}弹窗分页(多选){/if}
														{if condition="$vo['fieldtype'] eq 21"}相关产品{/if}
														{if condition="$vo['fieldtype'] eq 22"}日期和时间{/if}
														{if condition="$vo['fieldtype'] eq 23"}图片裁剪{/if}
													</td>
													<td>
														{if condition="$vo['enablenull'] eq 1"}
														<img width="20" height="20" src="__PUBLIC__/static/images/yes.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','enablenull',this)"/>
														{else /}<img width="20" height="20" src="__PUBLIC__/static/images/cancel.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','enablenull',this)"/>
														{/if}
													</td>
													<td>
														{if condition="$vo['isdisplayonlist'] eq 1"}
														<img width="20" height="20" src="__PUBLIC__/static/images/yes.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','isdisplayonlist',this)"/>
														{else /}<img width="20" height="20" src="__PUBLIC__/static/images/cancel.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','isdisplayonlist',this)"/>
														{/if}
													</td>
													<td>
														{if condition="$vo['isusing'] eq 1"}
														<img width="20" height="20" src="__PUBLIC__/static/images/yes.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','isusing',this)"/>
														{else /}<img width="20" height="20" src="__PUBLIC__/static/images/cancel.png" onclick="changeTableVal('modelfield','idtypefield','{$vo.idtypefield}','isusing',this)"/>
														{/if}
													</td>
													<td>
														<input style="width: 60px" class="idorder" onblur="changeSort('{$vo.idtypefield}',this);" type="text" name="idorder" value="{$vo['idorder']}" />
													</td>
													<?php if($cms->CheckPurview('modelfield','edit')){ ?>
													<td width="100">
														<a href="javascript:CustomOpen('{:url('pattern/fielddeal','idmodel='.$request['idmodel'].'&idfield='.$vo['idtypefield'].'&action=edit&idsite='.$idsite)}','role','字段内容修改',700, 500)">{:lang('revise')}</a>
													</td>
													<?php } ?>
												</tr>
												{/volist}
											</table>
										</div>
									</td>
								</tr>
							</table>
							<div class="oa_content-main-bottom"></div>
						</div>
					</div>
				</div>
			</td>
			<td class="oa_wrapper-middle-arr-right oa_wrapper-display"></td>
		</tr>
		<tr class="oa_wrapper-display">
			<td class="oa_wrapper-bottom-arr-left">&nbsp;</td>
			<td class="oa_wrapper-bottom-arr-middle"></td>
			<td class="oa_wrapper-bottom-arr-right">&nbsp;</td>
		</tr>
	</table>
</div>

</body>
<script type="text/javascript">

	function changeSort(id_name,obj){
	    var id_value = $(obj).val();
        $.ajax({
            url:"/Admin/Pattern/fieldsort/id_name/"+id_name+"/id_value/"+id_value,
            success: function(data){
                if(data == 1){
                    layer.alert("修改成功",{icon:1});
                }
            }
        });
	}
</script>
</html>