(function(b){var a=a||{};b.fn.czCheckbox=function(d){var e="czCheckbox";var c=b(this).data(e);if(typeof d=="string"&&d=="instance"){return c}var d=b.extend({},a.czCheckbox.defaults,d||{});return b(this).each(function(){var f=new a.czCheckbox(d);f.$elements=b(this);f._init();b(this).data(e,f)})};a.czCheckbox=function(c){this.NAME="czCheckbox";this.VERSION="2.0";this.options=c;this.$elements=null;this.$active=null;this._$checkboxs=Array();this._$labels=Array();this._$wraps=Array()};a.czCheckbox.defaults={inputName:"",className:"",initCallback:null,changeCallback:null,emptyCallback:null,forbidCallback:null};a.czCheckbox.prototype={_init:function(){var c=this;this.$elements.addClass("czCheckbox").addClass(c.options.className);if(this.options.inputName){this.$elements=b(":checkbox[name="+this.options.inputName+"]",this.$elements[0])}else{this.$elements=b(":checkbox",this.$elements[0])}this.$elements.each(function(d){c._$checkboxs[d]=b(this).hide();c._$wraps[d]=b(this).wrap("<span></span>").parent();c._$wraps[d].css({display:"inline-block",overflow:"hidden",cursor:"pointer"}).addClass("default");if(c._$checkboxs[d].is(":disabled")==false){if(c._$checkboxs[d].is(":checked")){c._setCheckedClass(d)}}else{c._setDisabledClass(d)}$label=b("label[for='"+c._$checkboxs[d].attr("id")+"']");if(typeof $label=="object"&&$label.attr("tagName")=="LABEL"){c._$labels[d]=$label.removeAttr("for").css("cursor","pointer")}else{c._$labels[d]=null}c._$wraps[d].add(c._$labels[d]).bind("click",function(){c._clickEvent(d)})});this._callback("init")},_clickEvent:function(c){this.$active=c;if(this._$checkboxs[c].is(":disabled")==false){if(!this._$checkboxs[c].is(":checked")){this.setChecked(c)}else{this.setUnChecked(c);if(this.getCheckedCounts()==0){this._callback("empty")}}this._callback("change")}else{this._callback("forbid")}},_getObjectIndex:function(c){for(i in this._$checkboxs){if(typeof c=="object"&&this._$checkboxs[i].val()==c.val()){return i}else{if(this._$checkboxs[i].val()==c){return i}}}return false},setAbled:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c==false){return}this._setAbledClass(c);this._$checkboxs[c].removeAttr("disabled")},_setCheckedClass:function(c){if(this._$checkboxs[c].is(":disabled")==false){this._$wraps[c].attr("class","default default_checked")}else{this._$wraps[c].attr("class","default disabled_checked")}},_setUnCheckedClass:function(c){if(this._$checkboxs[c].is(":disabled")==false){this._$wraps[c].attr("class","default")}else{this._$wraps[c].attr("class","default disabled")}},_setDisabledClass:function(c){if(this._$checkboxs[c].is(":checked")==false){this._$wraps[c].attr("class","default disabled")}else{this._$wraps[c].attr("class","default disabled_checked")}},_setAbledClass:function(c){if(this._$checkboxs[c].is(":checked")==false){this._$wraps[c].attr("class","default")}else{this._$wraps[c].attr("class","default default_checked")}},_callback:function(c){if(!b.isFunction(this.options[c+"Callback"])){return}this.options[c+"Callback"].call(this)},setChecked:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c===false){return}this._setCheckedClass(c);this._$checkboxs[c].attr("checked",true)},setUnChecked:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c===false){return}this._setUnCheckedClass(c);this._$checkboxs[c].removeAttr("checked")},setDisabled:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c==false){return}this._setDisabledClass(c);this._$checkboxs[c].attr("disabled",true)},getCheckedValue:function(){var c=new Array();for(i in this._$checkboxs){if(this._$checkboxs[i].is(":checked")==true){c.push(this._$checkboxs[i].val())}}return c},getCheckedText:function(){var c=new Array();for(i in this._$checkboxs){if(this._$checkboxs[i].is(":checked")==true){c.push(this._$labels[i].text())}}return c},getCheckedCounts:function(){return this.getCheckedValue().length},getObject:function(){if(this.$active==null){return false}return this._$checkboxs[this.$active]},getValue:function(){if(this.getObject()==false){return null}return this.getObject().val()},isCheck:function(){if(this.getObject()==false){return null}return this.getObject().is(":checked")}}})(jQuery);