<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>预约对象</title>
    <link href="__PUBLIC__/static/css/layout.css" rel="stylesheet" type="text/css" />
    <link href="__PUBLIC__/static/css/page.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="__PUBLIC__/static/css/bootstrap.min.css">
    <script type="text/javascript" src="__PUBLIC__/static/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/del-checked.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/layer/layer.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/ContorlValidator.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/CostomLinkOpenSw.js"></script>
    <link href="__PUBLIC__/static/js/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="__PUBLIC__/static/js/daterangepicker/moment.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/daterangepicker/daterangepicker.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/lhgdialog.js?skin=aero"></script>
    <script type="text/javascript" src="__PUBLIC__/static/js/layer/layer.js"></script>
    <style>
    .layui-layer.layui-layer-page.layui-layer-rim.layer-anim .layui-layer-content{
            padding: 10px;
        }
   .layui-layer.layui-layer-page.layui-layer-rim.layer-anim *{
        max-width : 100%!important;
        box-sizing: border-box;
    }
    .layui-layer.layui-layer-page.layui-layer-rim.layer-anim img{
        height: auto!important;
    }
    </style>
    

    <script type="text/javascript">
        window.UEDITOR_Admin_URL = "/public/plugins/Ueditor/";
        var URL_upload = "/index.php/Admin/Ueditor/imageUp/savepath/article";
        var URL_fileUp = "/index.php/Admin/Ueditor/fileUp/savepath/article";
        var URL_scrawlUp = "/index.php/Admin/Ueditor/scrawlUp/savepath/article";
        var URL_getRemoteImage = "/index.php/Admin/Ueditor/getRemoteImage/savepath/article";
        var URL_imageManager = "/index.php/Admin/Ueditor/imageManager/savepath/article";
        var URL_imageUp = "/index.php/Admin/Ueditor/imageUp/savepath/article";
        var URL_getMovie = "/index.php/Admin/Ueditor/getMovie/savepath/article";
        var URL_home = "";
    </script>
    <!--
    <script>
        KindEditor.ready(function(K) {
            window.editor = K.create('#editor_id');
        });
    </script>
-->
    <script language="javascript">
        //具体参数配置在  editor_config.js 中
        var options = {
            zIndex: 999,
            initialFrameWidth: 800, //初化宽度
            initialFrameHeight: 400, //初化高度
            focus: false, //初始化时，是否让编辑器获得焦点true或false
            maximumWords: 99999, removeFormatAttributes: 'class,style,lang,width,height,align,hspace,valign',//允许的最大字符数 'fullscreen',
            pasteplain:false, //是否默认为纯文本粘贴。false为不使用纯文本粘贴，true为使用纯文本粘贴
            autoHeightEnabled: false
            /*   autotypeset: {
             mergeEmptyline: true,        //合并空行
             removeClass: true,           //去掉冗余的class
             removeEmptyline: false,      //去掉空行
             textAlign: "left",           //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版
             imageBlockLine: 'center',    //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版
             pasteFilter: false,          //根据规则过滤没事粘贴进来的内容
             clearFontSize: false,        //去掉所有的内嵌字号，使用编辑器默认的字号
             clearFontFamily: false,      //去掉所有的内嵌字体，使用编辑器默认的字体
             removeEmptyNode: false,      //去掉空节点
             //可以去掉的标签
             removeTagNames: {"font": 1},
             indent: false,               // 行首缩进
             indentValue: '0em'           //行首缩进的大小
             }*/
        };
    </script>
    <script type="text/javascript" src="__PUBLIC__/static/plugins/Ueditor/ueditor.config.js"></script>
    <script type="text/javascript" src="__PUBLIC__/static/plugins/Ueditor/ueditor.all.js"></script>
</head>
<body>
<div class="oa_pop">
    <div class="oa_pop-main">
        <div style="height: 6px"></div>
        <div class="oa_title clearfix">
            <span class="oa_ico-right"></span>
            <span class="oa_title-btn"></span>
            <span class="oa_ico-left"></span>
            {$param.id ? '修改' : '新建'}预约对象        
        </div>
        <div class="oa_edition">
            <form id="frm" action="" method="post" onsubmit="return checkdata()">
                <input type="hidden" name="id" value="{$datainfo.id ?? 0}" />
                <input type="hidden" name="siteid" value="{$siteid}" />
                
                <table id="tabcontent" width="100%" border="0" cellspacing="1" cellpadding="0" class="oa_edition" style="border-bottom: #e0e0e0 solid 1px">
                    <tr>
                        <td width="150"class="oa_cell-left"><span style="color:#ff0000">*</span>分类：</td>
                        <td class="oa_cell-right">
                            <input type="hidden" name="category_name" id="category_name" value="{$datainfo.category_name}" />
                            <select name="category_id" id="category_id" class="form-control" style="width: auto; height: 30px">
                                <option value="">==请选择==</option>
                                {volist name="subscribe_object_category" id="vo"}
                                <option value="{$vo.id}" {$vo.id==$datainfo.category_id ? 'selected' : '' }>{$vo.name}</option>
                                {/volist}
                            </select> 
                        </td>
                    </tr>
                    <tr>
                        <td width="150"class="oa_cell-left"><span style="color:#ff0000">*</span>对象名称：</td>
                        <td class="oa_cell-right"><input name="object_name" id="object_name" type="text" value="{$datainfo.object_name ?? ''}" class="form-control "  style="width:600px;"   chname="对象名称"  /> </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">对象描述：</td>
                        <td class="oa_cell-right">
                            <div >
                                <textarea id="description" name="description" is_null="1" cols="50" rows="3"   class="form-control input oa_input-200"  style="width:600px;height:80px;">{$datainfo.description ?? ''}</textarea>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">对象开始时间：</td>
                        <td class="oa_cell-right">
                            <div style="width:250px" class="input-prepend input-group"><span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
                            <input type="text" is_null="0" id="start_time" name="start_time" class="form-control"  value="{$datainfo.start_time ? date('Y-m-d H:i:s', $datainfo.start_time) : ''}"></div>
                            <script language='JavaScript'>seltime("start_time","YYYY-MM-DD HH:mm:ss")</script>                               <!-- -->
                            <span style="color: red;display: none;" class="dtbirthday_null">(不能为空)</span>
                        </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">对象结束时间：</td>
                        <td class="oa_cell-right">
                            <div style="width:250px" class="input-prepend input-group"><span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></span>
                            <input type="text" is_null="0" id="end_time" name="end_time" class="form-control"  value="{$datainfo.end_time ? date('Y-m-d H:i:s', $datainfo.end_time) : ''}"></div><script language='JavaScript'>seltime("end_time","YYYY-MM-DD HH:mm:ss")</script>                               <!-- -->
                            <span style="color: red;display: none;" class="dtbirthday_null">(不能为空)</span>
                        </td>
                    </tr>
                    <tr>
                        <td width="150"class="oa_cell-left">最小人数：</td>
                        <td class="oa_cell-right"><input name="min_number" id="min_number" type="text" value="{$datainfo.min_number ? $datainfo.min_number : ''}" class="form-control "  style="width:600px;"   chname="最小人数"  /> </td>
                    </tr>
                    <tr>
                        <td width="150"class="oa_cell-left">最大人数：</td>
                        <td class="oa_cell-right"><input name="max_number" id="max_number" type="text" value="{$datainfo.max_number ? $datainfo.max_number : ''}" class="form-control "  style="width:600px;"   chname="最大人数"  /> </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">审核通过</td>
                        <td class="oa_cell-right">
                            {present name="$datainfo['is_auditing']"}
                                <input type="radio" name="is_auditing" value="1" {$datainfo.is_auditing == 1 ? 'checked' : ''} />是
                                <input type="radio" name="is_auditing" value="0" {$datainfo.is_auditing == 0 ? 'checked' : ''} />否
                            {else /}
                                <input type="radio" name="is_auditing" value="1" />是
                                <input type="radio" name="is_auditing" value="0" checked />否
                            {/present}
                        </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">是否启用</td>
                        <td class="oa_cell-right">
                            {present name="$datainfo['is_enable']"}
                                <input type="radio" name="is_enable" value="1" {$datainfo.is_enable == 1 ? 'checked' : ''} />是
                                <input type="radio" name="is_enable" value="0" {$datainfo.is_enable == 0 ? 'checked' : ''} />否
                            {else /}
                                <input type="radio" name="is_enable" value="1" />是
                                <input type="radio" name="is_enable" value="0" checked />否
                            {/present}
                        </td>
                    </tr>
                    <style>
                    .session_button_box{
                        display: inline-block;
                        height: 32px;
                    }
                    .session_button{
                        display: inline-block;
                        border-radius: 3px;
                        background-color: #d2d2d2;
                        height: 32px;
                        line-height: 32px;
                        color: #fff;
                        padding: 0 5px;
                        margin: 0 5px;
                    }
                    .session_button_active{
                        background-color: #5FB878;
                    }
                    </style>
                    <tr>
                        <td width="150" class="oa_cell-left">地点</td>
                        <td class="oa_cell-right">
                            <div class="session_button_box" id="place_list"></div>
                            <input name="place" id="place" type="text" value=""  class="form-control "  style="width:60px;"   chname="地点"  />
                            <a href="javascript:addPlace()" style="font-size: 14px; text-decoration: none">添加</a>
                        </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">周期</td>
                        <td class="oa_cell-right">
                            <div class="session_button_box" id="week_list">
                            </div>
                            <input name="week" id="week" type="text" value="" class="form-control "  style="width:60px;"   chname="周期"  />
                            <a href="javascript:addWeek()" style="font-size: 14px; text-decoration: none">添加</a>
                        </td>
                    </tr>
                    <tr>
                        <td width="150" class="oa_cell-left">时间段</td>
                        <td class="oa_cell-right">
                            <div class="session_button_box" id="period_list">
                            </div>
                            <input name="period" id="period" type="text" value="" class="form-control "  style="width:60px;"   chname="时间"  />
                            <a href="javascript:addPeriod()" style="font-size: 14px; text-decoration: none">添加</a>
                        </td>
                    </tr>
                    <tr class="paytypecontent2">
                        <td width="150" class="oa_cell-left"> </td>
                        <td class="table_head">
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="场次名称" />
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="开始时间" />
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="结束时间" />
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最小人数" />
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最大人数" />
                            <input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-200" value="是否启用(0:禁用 1:启用)" />
                        </td>
                    </tr>
                    <tr id="save">
                        <td colspan="2" style="padding:10px;">
                            <input type="submit" value="保存">
                        </td>
                    </tr>
                </table>
            </form>
        </div>
        <div style="height: 30px"></div>
    </div>
</div>


<script>
    var place_number = 0;   // 选中地点数量
    var week_number = 0;    // 选中的周期数量
    var period_number = 0;  // 选择的时间段数量
    var place_index = 0;    // 地点索引
    var week_index = 0;     // 周期索引
    var period_index = 0;   // 时间段索引
    $(function(){
        $('#category_id').change(function(){
            var selectText = $(this).find("option:selected").text();
            $('#category_name').val(selectText);
        });
        // 点击地点
        $('#place_list').on("click",".session_button",(function(){
            var select_place_index = $(this).attr("index");
            var place_value = $(this).text();
            // 如果存在，删除选中，移除input
            if($(this).hasClass("session_button_active")){
                // 重设表头
                if(place_number == 1){
                    var table_head = '';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="场次名称" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="开始时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="结束时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最小人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最大人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-200" value="是否启用(0:禁用 1:启用)" />';
                
                    $('.table_head').html(table_head);
                }
                
                // 地点选中
                $(this).removeClass("session_button_active");

                // 地点选中行删除
                $('.session_content').find("input").each(function(){
                    if($(this).hasClass("place_name") && $(this).attr("index") == select_place_index){
                        $(this).parent().parent().remove();
                    }
                });
                place_number--;
            }else{
                place_number++;
                // 设置表头
                var table_head = '';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="地点" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="场次名称" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="开始时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="结束时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最小人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最大人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-200" value="是否启用(0:禁用 1:启用)" />';
                
                $('.table_head').html(table_head);
                
                // 设置内容
                var table_content = '<tr class="paytypecontent3">';
                    table_content += '<td width="150" class="oa_cell-left"> </td>';
                    table_content += '<td class="session_content">';
                    table_content += '<input name="place_name[]" type="text" tyle="border:none;text-align:center;" readonly="true" index="'+select_place_index+'" class="place_name oa_input-100" value="'+place_value+'" /> ';
                    table_content += '<input name="session_name[]" type="text" class="session_name oa_input-100" value="" /> ';
                    table_content += '<input name="start_time[]" type="text" class="start_time oa_input-100" value="" /> ';
                    table_content += '<input name="end_time[]" type="text" class="end_time oa_input-100" value="" /> ';
                    table_content += '<input name="min_number[]" type="text" class="min_number oa_input-100" value="" /> ';
                    table_content += '<input name="max_number[]" type="text" class="max_number oa_input-100" value="" /> ';
                    table_content += '<input name="is_enable[]" type="text" class="is_enable oa_input-200" value="" /> ';
                    table_content += '</td>';
                    table_content += '</tr>';
                
                $('#save').before(table_content);

                // 地点选中
                $(this).addClass("session_button_active");
            }
        }));
        // 点击周期
        $('#week_list').on("click",".session_button",(function(){
            var week_value = $(this).text();
            var select_week_index = $(this).attr("index");
            if($(this).hasClass("session_button_active")){
                week_number--;
                $('#session_title').find("input").each(function(){
                    if($(this).val() == '周期'){
                        $(this).remove();
                    }
                });
                $('.session_content').find("input").each(function(){
                    if($(this).hasClass("week_name")){
                        $(this).remove();
                    }
                });
                $(this).removeClass("session_button_active");
            }else{
                week_number++;
                // 设置表头
                var table_head = '';
                    if(place_number != 0){
                        table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="地点" />';
                    }
                    if(week_number != 0){
                        table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="周期" />';
                    }
                    if(period_number != 0){
                        table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="时间段" />';
                    }
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="场次名称" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="开始时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="结束时间" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最小人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="最大人数" />';
                    table_head += '<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-200" value="是否启用(0:禁用 1:启用)" />';

                // 删除所有
                $('.paytypecontent3').each(function(){
                    $(this).remove();
                });

                week_html = '';
                if(week_number == 0){
                    week_html = '';
                }else if(week_number == 1){
                    for(var i=0; i<=place_number-1;i++){
                        var select_place_index = 0;
                        var place_value = 0;
                        $('#place_list').find(".session_button_active").each(function(){
                            var index = $(this).index();
                            if(i == index){
                                select_place_index = $(this).attr("index");
                                place_value = $(this).text();
                            }
                        });
                        // 设置内容
                        var table_content = '<tr class="paytypecontent3">';
                            table_content += '<td width="150" class="oa_cell-left"> </td>';
                            table_content += '<td class="session_content">';
                            table_content += '<input name="place_name[]" type="text" tyle="border:none;text-align:center;" readonly="true" index="'+select_place_index+'" class="place_name oa_input-100" value="'+place_value+'" /> ';
                            table_content += '<input name="place_name[]" type="text" tyle="border:none;text-align:center;" readonly="true" index="'+select_week_index+'" class="place_name oa_input-100" value="'+week_value+'" /> ';
                            table_content += '<input name="session_name[]" type="text" class="session_name oa_input-100" value="" /> ';
                            table_content += '<input name="start_time[]" type="text" class="start_time oa_input-100" value="" /> ';
                            table_content += '<input name="end_time[]" type="text" class="end_time oa_input-100" value="" /> ';
                            table_content += '<input name="min_number[]" type="text" class="min_number oa_input-100" value="" /> ';
                            table_content += '<input name="max_number[]" type="text" class="max_number oa_input-100" value="" /> ';
                            table_content += '<input name="is_enable[]" type="text" class="is_enable oa_input-200" value="" /> ';
                            table_content += '</td>';
                            table_content += '</tr>';
                        
                        $('#save').before(table_content);
                    }
                    
                    $(this).addClass("session_button_active");
                }else{
                    for(var i=0; i < place_number;i++){
                        var select_place_index = 0;
                        var place_value = 0;
                        $('#place_list').find(".session_button_active").each(function(){
                            var index = $(this).index();
                            if(i == index){
                                select_place_index = $(this).attr("index");
                                place_value = $(this).text();
                            }
                        });
                        for(var j=0; j < week_number; j++){
                            var select_week_index = 0;
                            var week_value = 0;
                            $('#week_list').find(".session_button_active").each(function(){
                                var index = $(this).index();
                                console.log(j+","+index);
                                if(j == index){
                                    select_week_index = $(this).attr("index");
                                    week_value = $(this).text();
                                }
                            });
                            // 设置内容
                            var table_content = '<tr class="paytypecontent3">';
                                table_content += '<td width="150" class="oa_cell-left"> </td>';
                                table_content += '<td class="session_content">';
                                table_content += '<input name="place_name[]" type="text" tyle="border:none;text-align:center;" readonly="true" index="'+select_place_index+'" class="place_name oa_input-100" value="'+place_value+'" /> ';
                                table_content += '<input name="place_name[]" type="text" tyle="border:none;text-align:center;" readonly="true" index="'+select_week_index+'" class="place_name oa_input-100" value="'+week_value+'" /> ';
                                table_content += '<input name="session_name[]" type="text" class="session_name oa_input-100" value="" /> ';
                                table_content += '<input name="start_time[]" type="text" class="start_time oa_input-100" value="" /> ';
                                table_content += '<input name="end_time[]" type="text" class="end_time oa_input-100" value="" /> ';
                                table_content += '<input name="min_number[]" type="text" class="min_number oa_input-100" value="" /> ';
                                table_content += '<input name="max_number[]" type="text" class="max_number oa_input-100" value="" /> ';
                                table_content += '<input name="is_enable[]" type="text" class="is_enable oa_input-200" value="" /> ';
                                table_content += '</td>';
                                table_content += '</tr>';

                            $('#save').before(table_content);
                        }

                        $(this).addClass("session_button_active");
                    }
                }


            }
        }));
        // 点击时间段
        $('#period_list').on("click",".session_button",(function(){
            var periodk_value = $(this).text();
            if($(this).hasClass("session_button_active")){
                $('#session_title').find("input").each(function(){
                    if($(this).val() == '时间段'){
                        $(this).remove();
                    }
                });
                $('#session_content').find("input").each(function(){
                    if($(this).hasClass("period_name")){
                        $(this).remove();
                    }
                });
                $(this).removeClass("session_button_active");
                period_number--;
            }else{
                $('#session_title').find("input").each(function(){
                    if($(this).val() == '时间段'){
                        $(this).remove();
                    }
                });
                $('#session_content').find("input").each(function(){
                    if($(this).hasClass("period_name")){
                        $(this).remove();
                    }
                });
                $('#session_title').find("input").first().before('<input style="border:none;text-align:center;" readonly="true" type="text" class="oa_input-100" value="时间段" />');
                $('#session_content').find("input").first().before('<input name="period_name[]" type="text" class="period_name oa_input-100" value="'+ periodk_value +'" />');
                $(this).addClass("session_button_active");
                period_number++;
            }
        }));
    });
    // 表单验证
    function  checkdata(flag) {
        if($("#category_id").val() == ""){
            alert("请选择分类");
            return false;
        }
        if($("#object_name").val() == ""){
            alert("请输入对象名称");
            return false;
        }
        return true;
    }
    // 增加地点
    function addPlace(){
        var place = $('#place').val();
        if(place.length <= 0){
            layer.msg('请输入地点');return;
        }
        var pace_html = '<div class="session_button" index='+place_index+'>'+ place +'</div>';
        $('#place_list').append(pace_html);
        $('#place').val("");
        place_index++;
    }
    // 增加周期
    function addWeek(){
        var week = $('#week').val();
        if(week.length <= 0){
            layer.msg('请输入周期');return;
        }
        var week_html = '<div class="session_button" index='+ week_index +'>'+ week +'</div>';
        $('#week_list').append(week_html);
        $('#week').val("");
        week_index++;
        
    }
    // 增加时间段
    function addPeriod(){
        var period = $('#period').val();
        if(period.length <= 0){
            layer.msg('请输入时间段');return;
        }
        var period_html = '<div class="session_button index='+ period_index +'">'+ period +'</div>';
        $('#period_list').append(period_html);
        $('#period').val("");
        period_index++;
    }
</script>

</body>
</html>